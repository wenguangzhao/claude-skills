(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,64462,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},90177,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={assign:function(){return i},searchParamsToUrlQuery:function(){return o},urlQueryToSearchParams:function(){return s}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});function o(e){let t={};for(let[r,n]of e.entries()){let e=t[r];void 0===e?t[r]=n:Array.isArray(e)?e.push(n):t[r]=[e,n]}return t}function l(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function s(e){let t=new URLSearchParams;for(let[r,n]of Object.entries(e))if(Array.isArray(n))for(let e of n)t.append(r,l(e));else t.set(r,l(n));return t}function i(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,n]of r.entries())e.append(t,n)}return e}},3614,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={formatUrl:function(){return s},formatWithValidation:function(){return c},urlObjectKeys:function(){return i}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let o=e.r(44066)._(e.r(90177)),l=/https?|ftp|gopher|file/;function s(e){let{auth:t,hostname:r}=e,n=e.protocol||"",a=e.pathname||"",s=e.hash||"",i=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(c+=":"+e.port)),i&&"object"==typeof i&&(i=String(o.urlQueryToSearchParams(i)));let u=e.search||i&&`?${i}`||"";return n&&!n.endsWith(":")&&(n+=":"),e.slashes||(!n||l.test(n))&&!1!==c?(c="//"+(c||""),a&&"/"!==a[0]&&(a="/"+a)):c||(c=""),s&&"#"!==s[0]&&(s="#"+s),u&&"?"!==u[0]&&(u="?"+u),a=a.replace(/[?#]/g,encodeURIComponent),u=u.replace("#","%23"),`${n}${c}${a}${u}${s}`}let i=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function c(e){return s(e)}},93359,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return a}});let n=e.r(75305);function a(e,t){let r=(0,n.useRef)(null),a=(0,n.useRef)(null);return(0,n.useCallback)(n=>{if(null===n){let e=r.current;e&&(r.current=null,e());let t=a.current;t&&(a.current=null,t())}else e&&(r.current=o(e,n)),t&&(a.current=o(t,n))},[e,t])}function o(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},94216,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={DecodeError:function(){return m},MiddlewareNotFoundError:function(){return j},MissingStaticPage:function(){return y},NormalizeError:function(){return x},PageNotFoundError:function(){return b},SP:function(){return v},ST:function(){return g},WEB_VITALS:function(){return o},execOnce:function(){return l},getDisplayName:function(){return d},getLocationOrigin:function(){return c},getURL:function(){return u},isAbsoluteUrl:function(){return i},isResSent:function(){return f},loadGetInitialProps:function(){return h},normalizeRepeatedSlashes:function(){return p},stringifyError:function(){return k}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let o=["CLS","FCP","FID","INP","LCP","TTFB"];function l(e){let t,r=!1;return(...n)=>(r||(r=!0,t=e(...n)),t)}let s=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,i=e=>s.test(e);function c(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function u(){let{href:e}=window.location,t=c();return e.substring(t.length)}function d(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function f(e){return e.finished||e.headersSent}function p(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function h(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await h(t.Component,t.ctx)}:{};let n=await e.getInitialProps(t);if(r&&f(r))return n;if(!n)throw Object.defineProperty(Error(`"${d(e)}.getInitialProps()" should resolve to an object. But found "${n}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n}let v="undefined"!=typeof performance,g=v&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class m extends Error{}class x extends Error{}class b extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class y extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class j extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function k(e){return JSON.stringify({message:e.message,stack:e.stack})}},26856,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return o}});let n=e.r(94216),a=e.r(17054);function o(e){if(!(0,n.isAbsoluteUrl)(e))return!0;try{let t=(0,n.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,a.hasBasePath)(r.pathname)}catch(e){return!1}}},52335,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},2854,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={default:function(){return m},useLinkStatus:function(){return b}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let o=e.r(44066),l=e.r(1972),s=o._(e.r(75305)),i=e.r(3614),c=e.r(311),u=e.r(93359),d=e.r(94216),f=e.r(38636);e.r(64462);let p=e.r(77514),h=e.r(26856),v=e.r(64914);function g(e){return"string"==typeof e?e:(0,i.formatUrl)(e)}function m(t){var r;let n,a,o,[i,m]=(0,s.useOptimistic)(p.IDLE_LINK_STATUS),b=(0,s.useRef)(null),{href:y,as:j,children:k,prefetch:w=null,passHref:_,replace:C,shallow:N,scroll:P,onClick:E,onMouseEnter:O,onTouchStart:S,legacyBehavior:R=!1,onNavigate:T,ref:M,unstable_dynamicOnHover:I,...A}=t;n=k,R&&("string"==typeof n||"number"==typeof n)&&(n=(0,l.jsx)("a",{children:n}));let L=s.default.useContext(c.AppRouterContext),F=!1!==w,$=!1!==w?null===(r=w)||"auto"===r?v.FetchStrategy.PPR:v.FetchStrategy.Full:v.FetchStrategy.PPR,{href:z,as:D}=s.default.useMemo(()=>{let e=g(y);return{href:e,as:j?g(j):e}},[y,j]);if(R){if(n?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});a=s.default.Children.only(n)}let U=R?a&&"object"==typeof a&&a.ref:M,B=s.default.useCallback(e=>(null!==L&&(b.current=(0,p.mountLinkInstance)(e,z,L,$,F,m)),()=>{b.current&&((0,p.unmountLinkForCurrentNavigation)(b.current),b.current=null),(0,p.unmountPrefetchableInstance)(e)}),[F,z,L,$,m]),H={ref:(0,u.useMergedRef)(B,U),onClick(t){R||"function"!=typeof E||E(t),R&&a.props&&"function"==typeof a.props.onClick&&a.props.onClick(t),!L||t.defaultPrevented||function(t,r,n,a,o,l,i){if("undefined"!=typeof window){let c,{nodeName:u}=t.currentTarget;if("A"===u.toUpperCase()&&((c=t.currentTarget.getAttribute("target"))&&"_self"!==c||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,h.isLocalURL)(r)){o&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),i){let e=!1;if(i({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:d}=e.r(75441);s.default.startTransition(()=>{d(n||r,o?"replace":"push",l??!0,a.current)})}}(t,z,D,b,C,P,T)},onMouseEnter(e){R||"function"!=typeof O||O(e),R&&a.props&&"function"==typeof a.props.onMouseEnter&&a.props.onMouseEnter(e),L&&F&&(0,p.onNavigationIntent)(e.currentTarget,!0===I)},onTouchStart:function(e){R||"function"!=typeof S||S(e),R&&a.props&&"function"==typeof a.props.onTouchStart&&a.props.onTouchStart(e),L&&F&&(0,p.onNavigationIntent)(e.currentTarget,!0===I)}};return(0,d.isAbsoluteUrl)(D)?H.href=D:R&&!_&&("a"!==a.type||"href"in a.props)||(H.href=(0,f.addBasePath)(D)),o=R?s.default.cloneElement(a,H):(0,l.jsx)("a",{...A,...H,children:n}),(0,l.jsx)(x.Provider,{value:i,children:o})}e.r(52335);let x=(0,s.createContext)(p.IDLE_LINK_STATUS),b=()=>(0,s.useContext)(x);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},94176,e=>{"use strict";let t=(0,e.i(22436).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],94176)},19455,24735,26599,e=>{"use strict";let t,r;var n=e.i(1972),a=e.i(75305);function o(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function l(...e){return t=>{let r=!1,n=e.map(e=>{let n=o(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():o(e[t],null)}}}}function s(...e){return a.useCallback(l(...e),e)}e.s(["composeRefs",()=>l,"useComposedRefs",()=>s],24735);var i=Symbol.for("react.lazy"),c=a[" use ".trim().toString()];function u(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===i&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}function d(e){var t;let r,o=(t=e,(r=a.forwardRef((e,t)=>{let{children:r,...n}=e;if(u(r)&&"function"==typeof c&&(r=c(r._payload)),a.isValidElement(r)){var o;let e,s,i=(o=r,(s=(e=Object.getOwnPropertyDescriptor(o.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.ref:(s=(e=Object.getOwnPropertyDescriptor(o,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?o.props.ref:o.props.ref||o.ref),c=function(e,t){let r={...t};for(let n in t){let a=e[n],o=t[n];/^on[A-Z]/.test(n)?a&&o?r[n]=(...e)=>{let t=o(...e);return a(...e),t}:a&&(r[n]=a):"style"===n?r[n]={...a,...o}:"className"===n&&(r[n]=[a,o].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==a.Fragment&&(c.ref=t?l(t,i):i),a.cloneElement(r,c)}return a.Children.count(r)>1?a.Children.only(null):null})).displayName=`${t}.SlotClone`,r),s=a.forwardRef((e,t)=>{let{children:r,...l}=e;u(r)&&"function"==typeof c&&(r=c(r._payload));let s=a.Children.toArray(r),i=s.find(h);if(i){let e=i.props.children,r=s.map(t=>t!==i?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,n.jsx)(o,{...l,ref:t,children:a.isValidElement(e)?a.cloneElement(e,void 0,r):null})}return(0,n.jsx)(o,{...l,ref:t,children:r})});return s.displayName=`${e}.Slot`,s}var f=d("Slot"),p=Symbol("radix.slottable");function h(e){return a.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===p}e.s(["Slot",()=>f,"createSlot",()=>d],26599);var v=e.i(7284);let g=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,m=v.clsx;var x=e.i(75157);let b=(t="inline-flex shrink-0 items-center justify-center gap-2 whitespace-nowrap rounded-md font-medium text-sm outline-none transition-all focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:pointer-events-none disabled:opacity-50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",r={variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:bg-destructive/60 dark:focus-visible:ring-destructive/40",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:border-input dark:bg-input/30 dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 gap-1.5 rounded-md px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}},e=>{var n;if((null==r?void 0:r.variants)==null)return m(t,null==e?void 0:e.class,null==e?void 0:e.className);let{variants:a,defaultVariants:o}=r,l=Object.keys(a).map(t=>{let r=null==e?void 0:e[t],n=null==o?void 0:o[t];if(null===r)return null;let l=g(r)||g(n);return a[t][l]}),s=e&&Object.entries(e).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return m(t,l,null==r||null==(n=r.compoundVariants)?void 0:n.reduce((e,t)=>{let{class:r,className:n,...a}=t;return Object.entries(a).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...o,...s}[t]):({...o,...s})[t]===r})?[...e,r,n]:e},[]),null==e?void 0:e.class,null==e?void 0:e.className)});function y({className:e,variant:t,size:r,asChild:a=!1,...o}){return(0,n.jsx)(a?f:"button",{"data-slot":"button",className:(0,x.cn)(b({variant:t,size:r,className:e})),...o})}e.s(["Button",()=>y],19455)},87949,e=>{"use strict";var t=e.i(40868);e.s(["Loader2",()=>t.default])},21477,e=>{"use strict";let t=async e=>{if(0===e.length)return[];let t=await fetch("https://wgzhao.me/images/exists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:e})}),r=await t.json();return e.filter(e=>r.results[e])},r=async e=>{let t=await fetch("https://wgzhao.me/images/exists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:[e]})});return(await t.json()).results[e]??!1};e.s(["checkIsFileExists",0,r,"getExistsFileIds",0,t])},34454,e=>{"use strict";var t=e.i(75305);e.i(23674);var r=e.i(26599),n=e.i(1972),a=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let o=(0,r.createSlot)(`Primitive.${a}`),l=t.forwardRef((e,t)=>{let{asChild:r,...l}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,n.jsx)(r?o:a,{...l,ref:t})});return l.displayName=`Primitive.${a}`,{...e,[a]:l}},{});e.s(["Primitive",()=>a])},24627,e=>{"use strict";var t=function(){return(t=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function r(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)0>t.indexOf(n[a])&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function n(e,t,r,n){return new(r||(r=Promise))(function(a,o){function l(e){try{i(n.next(e))}catch(e){o(e)}}function s(e){try{i(n.throw(e))}catch(e){o(e)}}function i(e){var t;e.done?a(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(l,s)}i((n=n.apply(e,t||[])).next())})}function a(e,t,r){if(r||2==arguments.length)for(var n,a=0,o=t.length;a<o;a++)!n&&a in t||(n||(n=Array.prototype.slice.call(t,0,a)),n[a]=t[a]);return e.concat(n||Array.prototype.slice.call(t))}"function"==typeof SuppressedError&&SuppressedError,e.s(["__assign",()=>t,"__awaiter",()=>n,"__rest",()=>r,"__spreadArray",()=>a])},38182,e=>{"use strict";e.s(["getFileUrl",0,e=>`https://wgzhao.me/images/img/${e}`])},96812,88931,e=>{"use strict";var t=e.i(93836);e.s(["CheckCircle2",()=>t.default],96812);let r=(0,e.i(22436).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["default",()=>r],88931)},94908,85162,e=>{"use strict";var t=e.i(88931);e.s(["Copy",()=>t.default],94908);let r=(0,e.i(22436).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>r],85162)},66942,e=>{"use strict";var t=e.i(1972),r=e.i(97332);let n=(0,e.i(22436).default)("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);var a=e.i(2854),o=e.i(75305),l=e.i(31028),s=e.i(30063),i=e.i(20661),c=e.i(18860),u=e.i(1275),d=e.i(19455),f=e.i(21477),p=e.i(93479),h=e.i(10204),v=e.i(67489),g=e.i(38182),m=e.i(75157);function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t.indexOf(r=o[n])>=0||(a[r]=e[r]);return a}function y(e){var t=(0,o.useRef)(e),r=(0,o.useRef)(function(e){t.current&&t.current(e)});return t.current=e,r.current}var j,k=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),e>r?r:e<t?t:e},w=function(e){return"touches"in e},_=function(e){return e&&e.ownerDocument.defaultView||self},C=function(e,t,r){var n=e.getBoundingClientRect(),a=w(t)?function(e,t){for(var r=0;r<e.length;r++)if(e[r].identifier===t)return e[r];return e[0]}(t.touches,r):t;return{left:k((a.pageX-(n.left+_(e).pageXOffset))/n.width),top:k((a.pageY-(n.top+_(e).pageYOffset))/n.height)}},N=function(e){w(e)||e.preventDefault()},P=o.default.memo(function(e){var t=e.onMove,r=e.onKey,n=b(e,["onMove","onKey"]),a=(0,o.useRef)(null),l=y(t),s=y(r),i=(0,o.useRef)(null),c=(0,o.useRef)(!1),u=(0,o.useMemo)(function(){var e=function(e){N(e),(w(e)?e.touches.length>0:e.buttons>0)&&a.current?l(C(a.current,e,i.current)):r(!1)},t=function(){return r(!1)};function r(r){var n=c.current,o=_(a.current),l=r?o.addEventListener:o.removeEventListener;l(n?"touchmove":"mousemove",e),l(n?"touchend":"mouseup",t)}return[function(e){var t=e.nativeEvent,n=a.current;if(n&&(N(t),(!c.current||w(t))&&n)){if(w(t)){c.current=!0;var o=t.changedTouches||[];o.length&&(i.current=o[0].identifier)}n.focus(),l(C(n,t,i.current)),r(!0)}},function(e){var t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),s({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},r]},[s,l]),d=u[0],f=u[1],p=u[2];return(0,o.useEffect)(function(){return p},[p]),o.default.createElement("div",x({},n,{onTouchStart:d,onMouseDown:d,className:"react-colorful__interactive",ref:a,onKeyDown:f,tabIndex:0,role:"slider"}))}),E=function(e){return e.filter(Boolean).join(" ")},O=function(e){var t=e.color,r=e.left,n=e.top,a=E(["react-colorful__pointer",e.className]);return o.default.createElement("div",{className:a,style:{top:100*(void 0===n?.5:n)+"%",left:100*r+"%"}},o.default.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},S=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=Math.pow(10,t)),Math.round(r*e)/r},R=function(e){return"#"===e[0]&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?S(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:8===e.length?S(parseInt(e.substring(6,8),16)/255,2):1}},T=function(e){var t=e.s,r=e.v,n=e.a,a=(200-t)*r/100;return{h:S(e.h),s:S(a>0&&a<200?t*r/100/(a<=100?a:200-a)*100:0),l:S(a/2),a:S(n,2)}},M=function(e){var t=T(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},I=function(e){var t=e.h,r=e.s,n=e.v,a=e.a;t=t/360*6,r/=100,n/=100;var o=Math.floor(t),l=n*(1-r),s=n*(1-(t-o)*r),i=n*(1-(1-t+o)*r),c=o%6;return{r:S(255*[n,s,l,l,i,n][c]),g:S(255*[i,n,n,s,l,l][c]),b:S(255*[l,l,i,n,n,s][c]),a:S(a,2)}},A=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},L=function(e){var t=e.r,r=e.g,n=e.b,a=e.a,o=a<1?A(S(255*a)):"";return"#"+A(t)+A(r)+A(n)+o},F=function(e){var t=e.r,r=e.g,n=e.b,a=e.a,o=Math.max(t,r,n),l=o-Math.min(t,r,n),s=l?o===t?(r-n)/l:o===r?2+(n-t)/l:4+(t-r)/l:0;return{h:S(60*(s<0?s+6:s)),s:S(o?l/o*100:0),v:S(o/255*100),a:a}},$=o.default.memo(function(e){var t=e.hue,r=e.onChange,n=E(["react-colorful__hue",e.className]);return o.default.createElement("div",{className:n},o.default.createElement(P,{onMove:function(e){r({h:360*e.left})},onKey:function(e){r({h:k(t+360*e.left,0,360)})},"aria-label":"Hue","aria-valuenow":S(t),"aria-valuemax":"360","aria-valuemin":"0"},o.default.createElement(O,{className:"react-colorful__hue-pointer",left:t/360,color:M({h:t,s:100,v:100,a:1})})))}),z=o.default.memo(function(e){var t=e.hsva,r=e.onChange,n={backgroundColor:M({h:t.h,s:100,v:100,a:1})};return o.default.createElement("div",{className:"react-colorful__saturation",style:n},o.default.createElement(P,{onMove:function(e){r({s:100*e.left,v:100-100*e.top})},onKey:function(e){r({s:k(t.s+100*e.left,0,100),v:k(t.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+S(t.s)+"%, Brightness "+S(t.v)+"%"},o.default.createElement(O,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:M(t)})))}),D=function(e,t){if(e===t)return!0;for(var r in e)if(e[r]!==t[r])return!1;return!0},U="undefined"!=typeof window?o.useLayoutEffect:o.useEffect,B=new Map,H=function(e){U(function(){var t=e.current?e.current.ownerDocument:document;if(void 0!==t&&!B.has(t)){var r=t.createElement("style");r.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',B.set(t,r);var n=j||("undefined"!=typeof __webpack_nonce__?__webpack_nonce__:void 0);n&&r.setAttribute("nonce",n),t.head.appendChild(r)}},[])},V=function(e){var t,r,n,a,l,s=e.className,i=e.colorModel,c=e.color,u=void 0===c?i.defaultColor:c,d=e.onChange,f=b(e,["className","colorModel","color","onChange"]),p=(0,o.useRef)(null);H(p);var h=(t=y(d),n=(r=(0,o.useState)(function(){return i.toHsva(u)}))[0],a=r[1],l=(0,o.useRef)({color:u,hsva:n}),(0,o.useEffect)(function(){if(!i.equal(u,l.current.color)){var e=i.toHsva(u);l.current={hsva:e,color:u},a(e)}},[u,i]),(0,o.useEffect)(function(){var e;D(n,l.current.hsva)||i.equal(e=i.fromHsva(n),l.current.color)||(l.current={hsva:n,color:e},t(e))},[n,i,t]),[n,(0,o.useCallback)(function(e){a(function(t){return Object.assign({},t,e)})},[])]),v=h[0],g=h[1],m=E(["react-colorful",s]);return o.default.createElement("div",x({},f,{ref:p,className:m}),o.default.createElement(z,{hsva:v,onChange:g}),o.default.createElement($,{hue:v.h,onChange:g,className:"react-colorful__last-control"}))},K={defaultColor:"000",toHsva:function(e){return F(R(e))},fromHsva:function(e){return L(I({h:e.h,s:e.s,v:e.v,a:1}))},equal:function(e,t){return e.toLowerCase()===t.toLowerCase()||D(R(e),R(t))}},q=function(e){return o.default.createElement(V,x({},e,{colorModel:K}))},W=e.i(91967),G=e.i(24735),J=e.i(49997),X=e.i(84505),Z=e.i(25048),Q=e.i(21064),Y=e.i(26993),ee=e.i(5791),et=e.i(31536),er=e.i(32256),en=e.i(85227),ea=e.i(96282),eo=e.i(37417),el=e.i(73772),es=e.i(93517),ei="Popover",[ec,eu]=(0,J.createContextScope)(ei,[ee.createPopperScope]),ed=(0,ee.createPopperScope)(),[ef,ep]=ec(ei),eh=e=>{let{__scopePopover:r,children:n,open:a,defaultOpen:l,onOpenChange:s,modal:i=!1}=e,c=ed(r),u=o.useRef(null),[d,f]=o.useState(!1),[p,h]=(0,eo.useControllableState)({prop:a,defaultProp:l??!1,onChange:s,caller:ei});return(0,t.jsx)(ee.Root,{...c,children:(0,t.jsx)(ef,{scope:r,contentId:(0,Y.useId)(),triggerRef:u,open:p,onOpenChange:h,onOpenToggle:o.useCallback(()=>h(e=>!e),[h]),hasCustomAnchor:d,onCustomAnchorAdd:o.useCallback(()=>f(!0),[]),onCustomAnchorRemove:o.useCallback(()=>f(!1),[]),modal:i,children:n})})};eh.displayName=ei;var ev="PopoverAnchor";o.forwardRef((e,r)=>{let{__scopePopover:n,...a}=e,l=ep(ev,n),s=ed(n),{onCustomAnchorAdd:i,onCustomAnchorRemove:c}=l;return o.useEffect(()=>(i(),()=>c()),[i,c]),(0,t.jsx)(ee.Anchor,{...s,...a,ref:r})}).displayName=ev;var eg="PopoverTrigger",em=o.forwardRef((e,r)=>{let{__scopePopover:n,...a}=e,o=ep(eg,n),l=ed(n),s=(0,G.useComposedRefs)(r,o.triggerRef),i=(0,t.jsx)(en.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":eO(o.open),...a,ref:s,onClick:(0,W.composeEventHandlers)(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?i:(0,t.jsx)(ee.Anchor,{asChild:!0,...l,children:i})});em.displayName=eg;var ex="PopoverPortal",[eb,ey]=ec(ex,{forceMount:void 0}),ej=e=>{let{__scopePopover:r,forceMount:n,children:a,container:o}=e,l=ep(ex,r);return(0,t.jsx)(eb,{scope:r,forceMount:n,children:(0,t.jsx)(er.Presence,{present:n||l.open,children:(0,t.jsx)(et.Portal,{asChild:!0,container:o,children:a})})})};ej.displayName=ex;var ek="PopoverContent",ew=o.forwardRef((e,r)=>{let n=ey(ek,e.__scopePopover),{forceMount:a=n.forceMount,...o}=e,l=ep(ek,e.__scopePopover);return(0,t.jsx)(er.Presence,{present:a||l.open,children:l.modal?(0,t.jsx)(eC,{...o,ref:r}):(0,t.jsx)(eN,{...o,ref:r})})});ew.displayName=ek;var e_=(0,ea.createSlot)("PopoverContent.RemoveScroll"),eC=o.forwardRef((e,r)=>{let n=ep(ek,e.__scopePopover),a=o.useRef(null),l=(0,G.useComposedRefs)(r,a),s=o.useRef(!1);return o.useEffect(()=>{let e=a.current;if(e)return(0,el.hideOthers)(e)},[]),(0,t.jsx)(es.RemoveScroll,{as:e_,allowPinchZoom:!0,children:(0,t.jsx)(eP,{...e,ref:l,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,W.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),s.current||n.triggerRef.current?.focus()}),onPointerDownOutside:(0,W.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;s.current=2===t.button||r},{checkForDefaultPrevented:!1}),onFocusOutside:(0,W.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),eN=o.forwardRef((e,r)=>{let n=ep(ek,e.__scopePopover),a=o.useRef(!1),l=o.useRef(!1);return(0,t.jsx)(eP,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(a.current||n.triggerRef.current?.focus(),t.preventDefault()),a.current=!1,l.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(l.current=!0));let r=t.target;n.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&l.current&&t.preventDefault()}})}),eP=o.forwardRef((e,r)=>{let{__scopePopover:n,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:s,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=e,p=ep(ek,n),h=ed(n);return(0,Z.useFocusGuards)(),(0,t.jsx)(Q.FocusScope,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:l,children:(0,t.jsx)(X.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:d,onEscapeKeyDown:i,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:(0,t.jsx)(ee.Content,{"data-state":eO(p.open),role:"dialog",id:p.contentId,...h,...f,ref:r,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),eE="PopoverClose";function eO(e){return e?"open":"closed"}function eS({...e}){return(0,t.jsx)(eh,{"data-slot":"popover",...e})}function eR({...e}){return(0,t.jsx)(em,{"data-slot":"popover-trigger",...e})}function eT({className:e,align:r="center",sideOffset:n=4,...a}){return(0,t.jsx)(ej,{children:(0,t.jsx)(ew,{"data-slot":"popover-content",align:r,sideOffset:n,className:(0,m.cn)("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-hidden data-[state=closed]:animate-out data-[state=open]:animate-in",e),...a})})}o.forwardRef((e,r)=>{let{__scopePopover:n,...a}=e,o=ep(eE,n);return(0,t.jsx)(en.Primitive.button,{type:"button",...a,ref:r,onClick:(0,W.composeEventHandlers)(e.onClick,()=>o.onOpenChange(!1))})}).displayName=eE,o.forwardRef((e,r)=>{let{__scopePopover:n,...a}=e,o=ed(n);return(0,t.jsx)(ee.Arrow,{...o,...a,ref:r})}).displayName="PopoverArrow";let eM="ffffff";function eI({name:e}){let[r,n]=(0,o.useState)(eM),[a,l]=(0,o.useState)(eM);return(0,t.jsxs)("section",{className:"pointer-events-auto relative z-10 flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("span",{className:"-translate-y-1/2 absolute top-1/2 left-3 text-gray-500 dark:text-gray-400",children:"#"}),(0,t.jsx)(p.Input,{value:a,name:e,onChange:e=>{let t=e.target.value.toLowerCase().replace(/[^0-9a-f]/g,"").slice(0,6);l(t),6===t.length&&n(t)},placeholder:"ffffff",maxLength:6,className:"pl-7 font-mono"})]}),(0,t.jsxs)(eS,{children:[(0,t.jsx)(eR,{asChild:!0,children:(0,t.jsx)(d.Button,{variant:"outline",size:"icon",type:"button","aria-label":"Color Picker",children:(0,t.jsx)("div",{className:"h-8 w-8 shrink-0 rounded-sm border-2 border-gray-300 shadow-sm dark:border-gray-600",style:{backgroundColor:`#${r}`}})})}),(0,t.jsx)(eT,{className:"w-auto p-3",children:(0,t.jsx)(q,{color:`#${r}`,onChange:e=>{let t=e.replace("#","");n(t),l(t)}})})]})]})}function eA({disabled:e,allowTransparent:r=!1}){let[n,a]=(0,o.useState)("average");return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(h.Label,{children:"背景色 (bg)"}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[r&&(0,t.jsxs)("label",{className:(0,m.cn)("group relative flex cursor-pointer flex-col items-center gap-1.5 rounded-lg border p-3 transition-all","hover:bg-slate-100 dark:hover:bg-slate-800","has-[:checked]:border-primary has-[:checked]:bg-primary/10 dark:has-[:checked]:bg-primary/20",e&&"pointer-events-none opacity-40"),children:[(0,t.jsx)("input",{type:"radio",name:"bgMode",value:"transparent",checked:"transparent"===n,onChange:()=>a("transparent"),disabled:e,className:"peer sr-only"}),(0,t.jsx)("div",{className:"h-5 w-5 rounded border border-slate-300",style:{backgroundImage:"linear-gradient(45deg, #ccc 25%, transparent 25%), linear-gradient(-45deg, #ccc 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #ccc 75%), linear-gradient(-45deg, transparent 75%, #ccc 75%)",backgroundSize:"8px 8px",backgroundPosition:"0 0, 0 4px, 4px -4px, -4px 0px"}}),(0,t.jsx)("p",{className:"text-center text-slate-700 text-xs peer-checked:text-primary dark:text-slate-300",children:"透明"})]}),(0,t.jsxs)("label",{className:(0,m.cn)("group relative flex cursor-pointer flex-col items-center gap-1.5 rounded-lg border p-3 transition-all","hover:bg-slate-100 dark:hover:bg-slate-800","has-[:checked]:border-primary has-[:checked]:bg-primary/10 dark:has-[:checked]:bg-primary/20",e&&"pointer-events-none opacity-40"),children:[(0,t.jsx)("input",{type:"radio",name:"bgMode",value:"average",checked:"average"===n,onChange:()=>a("average"),disabled:e,className:"peer sr-only"}),(0,t.jsx)("div",{className:"h-5 w-5 rounded border bg-gradient-to-br from-slate-400 to-slate-600"}),(0,t.jsx)("p",{className:"text-center text-slate-700 text-xs peer-checked:text-primary dark:text-slate-300",children:"平均色"})]}),(0,t.jsxs)("label",{className:(0,m.cn)("group relative flex cursor-pointer flex-col items-center gap-1.5 rounded-lg border p-3 transition-all","hover:bg-slate-100 dark:hover:bg-slate-800","has-[:checked]:border-primary has-[:checked]:bg-primary/10 dark:has-[:checked]:bg-primary/20",e&&"pointer-events-none opacity-40"),children:[(0,t.jsx)("input",{type:"radio",name:"bgMode",value:"custom",checked:"custom"===n,onChange:()=>a("custom"),disabled:e,className:"peer sr-only"}),(0,t.jsx)("div",{className:"h-5 w-5 rounded border bg-gradient-to-br from-blue-400 via-purple-400 to-pink-400"}),(0,t.jsx)("p",{className:"text-center text-slate-700 text-xs peer-checked:text-primary dark:text-slate-300",children:"カスタム"})]})]}),(0,t.jsx)("input",{type:"hidden",name:"bg",value:"custom"===n?"":n,disabled:e}),"custom"===n&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.Label,{className:"text-slate-600 text-xs dark:text-slate-400",children:"カスタムカラー (Hex)"}),(0,t.jsx)(eI,{name:"bg"})]})]})}var eL=e.i(96812),eF=e.i(94908),e$=e.i(85162);function ez({url:e}){let[r,n]=(0,o.useState)(!1),a=async()=>{await navigator.clipboard.writeText(e),n(!0),setTimeout(()=>n(!1),2e3)};return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eL.CheckCircle2,{className:"h-4 w-4 shrink-0 text-emerald-500 dark:text-emerald-400"}),(0,t.jsx)("p",{className:"font-medium text-slate-700 text-sm dark:text-slate-200",children:"変換URLを生成しました"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 rounded-lg bg-slate-100/80 p-2.5 dark:bg-slate-800/60",children:[(0,t.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:(0,m.cn)("min-w-0 flex-1 truncate text-cyan-600 text-xs transition-colors hover:text-cyan-500","dark:text-cyan-400 dark:hover:text-cyan-300"),children:e}),(0,t.jsx)(d.Button,{type:"button",variant:"ghost",color:"primary",size:"icon-sm",onClick:a,className:"shrink-0","aria-label":"リンクをコピー",children:r?(0,t.jsx)(eL.CheckCircle2,{className:"h-3.5 w-3.5"}):(0,t.jsx)(eF.Copy,{className:"h-3.5 w-3.5"})}),(0,t.jsx)(d.Button,{asChild:!0,variant:"ghost",color:"primary",size:"icon-sm",className:"shrink-0","aria-label":"新しいタブで開く",children:(0,t.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",children:(0,t.jsx)(e$.ExternalLink,{className:"h-3.5 w-3.5"})})})]})]})}let eD=[{value:"cover",label:"Cover",description:"アスペクト比を保持して切り抜き"},{value:"contain",label:"Contain",description:"全体を表示、余白あり"},{value:"fill",label:"Fill",description:"引き伸ばして埋める"}];function eU({name:e,defaultValue:r}){return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-slate-700 text-sm dark:text-slate-300",children:"適応モード (f)"}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-2",children:eD.map(n=>(0,t.jsxs)("label",{className:(0,m.cn)("group relative flex cursor-pointer flex-col items-center justify-center gap-1.5 rounded-lg border p-3 transition-all","hover:bg-slate-100 dark:hover:bg-slate-800","has-checked:border-primary has-checked:bg-primary/10 dark:has-checked:bg-primary/20"),children:[(0,t.jsx)("input",{type:"radio",name:e,value:n.value,defaultChecked:r===n.value,className:"peer sr-only"}),(0,t.jsxs)("div",{className:"space-y-0.5 text-center",children:[(0,t.jsx)("p",{className:"font-medium text-slate-700 text-xs peer-checked:text-primary dark:text-slate-300",children:n.label}),(0,t.jsx)("p",{className:"text-[10px] text-slate-500 leading-tight dark:text-slate-400",children:n.description})]})]},n.value))})]})}let eB=[{value:"center",label:"中央"},{value:"north",label:"上"},{value:"south",label:"下"},{value:"east",label:"右"},{value:"west",label:"左"},{value:"northeast",label:"右上"},{value:"northwest",label:"左上"},{value:"southeast",label:"右下"},{value:"southwest",label:"左下"}];function eH({name:e,defaultValue:r="center",disabled:n}){return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.Label,{htmlFor:e,children:"重心位置 (g)"}),(0,t.jsxs)(v.Select,{name:e,defaultValue:r,disabled:n,children:[(0,t.jsx)(v.SelectTrigger,{children:(0,t.jsx)(v.SelectValue,{placeholder:"重心位置を選択"})}),(0,t.jsxs)(v.SelectContent,{children:[(0,t.jsx)(v.SelectItem,{value:"none",children:"選択しない"}),eB.map(e=>(0,t.jsxs)(v.SelectItem,{value:e.value,children:[e.label," (",e.value,")"]},e.value))]})]})]})}var eV=e.i(67692);function eK({name:e,defaultValue:r=85}){let[n,a]=(0,o.useState)(r);return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(h.Label,{htmlFor:e,children:"品質 (q)"}),(0,t.jsx)("span",{className:"font-medium text-primary text-sm tabular-nums",children:n})]}),(0,t.jsx)("input",{type:"hidden",name:e,value:n}),(0,t.jsx)(eV.Slider,{id:e,min:1,max:100,step:1,value:[n],onValueChange:e=>a(e[0])})]})}let eq=[{value:"webp",label:"WebP",supportsTransparency:!0},{value:"jpg",label:"JPEG",supportsTransparency:!1},{value:"png",label:"PNG",supportsTransparency:!0},{value:"avif",label:"AVIF",supportsTransparency:!0},{value:"gif",label:"GIF",supportsTransparency:!1},{value:"heic",label:"HEIC",supportsTransparency:!1},{value:"tiff",label:"TIFF",supportsTransparency:!1},{value:"bmp",label:"BMP",supportsTransparency:!1},{value:"ppm",label:"PPM",supportsTransparency:!1}];function eW({id:e}){let[r,n]=(0,o.useState)(null),[a,l]=(0,o.useState)(""),[s,i]=(0,o.useState)("none"),[c,u]=(0,o.useState)(""),[f,x]=(0,o.useState)(""),b="none"!==s&&(eq.find(e=>e.value===s)?.supportsTransparency??!1),y=c&&f,j=y&&("cover"===a||"contain"===a),k=y&&"contain"===a;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:(0,m.cn)("rounded-2xl border border-primary/20 bg-white/10 p-6 shadow-lg backdrop-blur-sm","dark:border-primary/30 dark:bg-black/20"),children:(0,t.jsxs)("form",{action:t=>{n((t=>{let r=(0,g.getFileUrl)(e),n=[],a=t.get("width"),o=t.get("height"),l=t.get("fit"),s=t.get("format"),i=t.get("quality"),c=t.get("gravity"),u=t.get("bg");if(a&&n.push(`w=${a}`),o&&n.push(`h=${o}`),l&&n.push(`f=${l}`),s&&"none"!==s&&n.push(`fm=${s}`),i&&n.push(`q=${i}`),c&&"none"!==c&&n.push(`g=${c}`),u&&n.push(`bg=${u}`),0===n.length)return r;let d=r.includes("?")?"&":"?";return`${r}${d}${n.join("&")}`})(t))},className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.Label,{htmlFor:"width",children:"幅 (w)"}),(0,t.jsx)(p.Input,{type:"number",id:"width",name:"width",placeholder:"px",min:1,value:c,onChange:e=>u(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.Label,{htmlFor:"height",children:"高さ (h)"}),(0,t.jsx)(p.Input,{type:"number",id:"height",name:"height",placeholder:"px",min:1,value:f,onChange:e=>x(e.target.value)})]})]}),y&&(0,t.jsx)("div",{onChange:e=>{"fit"===e.target.name&&l(e.target.value)},children:(0,t.jsx)(eU,{name:"fit"})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(h.Label,{htmlFor:"format",children:"フォーマット (fm)"}),(0,t.jsxs)(v.Select,{name:"format",onValueChange:i,children:[(0,t.jsx)(v.SelectTrigger,{className:"w-full",children:(0,t.jsx)(v.SelectValue,{placeholder:"選択しない"})}),(0,t.jsxs)(v.SelectContent,{children:[(0,t.jsx)(v.SelectItem,{value:"none",children:"選択しない"}),eq.map(e=>(0,t.jsx)(v.SelectItem,{value:e.value,children:e.label},e.value))]})]})]}),(0,t.jsx)(eK,{name:"quality",defaultValue:85}),j&&(0,t.jsx)(eH,{name:"gravity",defaultValue:"center",disabled:!j}),k&&(0,t.jsx)(eA,{disabled:!k,allowTransparent:b}),(0,t.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,t.jsx)(d.Button,{type:"submit",className:"flex-1 gap-2",size:"lg",children:"URLを生成"}),r&&(0,t.jsx)(d.Button,{type:"button",variant:"outline",onClick:()=>{n(null),l(""),i("none"),u(""),x("")},size:"lg",children:"リセット"})]})]})}),r&&(0,t.jsx)("div",{className:(0,m.cn)("rounded-2xl border border-emerald-500/20 bg-white/10 p-6 shadow-lg backdrop-blur-sm","dark:border-emerald-500/30 dark:bg-black/20"),children:(0,t.jsx)(ez,{url:r})})]})}let eG=({isExistsPromise:e,id:l})=>(0,o.use)(e)?(0,t.jsxs)("div",{className:"relative z-10 mx-auto max-w-3xl space-y-6 px-4 py-8",children:[(0,t.jsx)(a.default,{href:"/",children:(0,t.jsxs)(d.Button,{variant:"outline",className:"gap-2",children:[(0,t.jsx)(r.Home,{className:"h-4 w-4"}),"ホームに戻る"]})}),(0,t.jsxs)("div",{className:"space-y-2 text-center",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-3",children:[(0,t.jsx)(n,{className:"h-8 w-8 text-primary"}),(0,t.jsx)("h1",{className:"font-bold text-3xl text-slate-800 dark:text-slate-100",children:"画像変換パラメータ設定"})]}),(0,t.jsx)("p",{className:"text-slate-600 dark:text-slate-400",children:"画像の変換パラメータを設定して、カスタマイズされたURLを生成します"})]}),(0,t.jsx)(eW,{id:l})]}):(0,t.jsx)(i.default,{}),eJ=()=>{let e=new URLSearchParams(window.location.search).get("id");if(!e)return(0,t.jsx)(c.default,{});let r=(0,f.checkIsFileExists)(e);return(0,t.jsx)(l.AsyncWrapper,{loadingFallback:(0,t.jsx)(u.default,{}),children:(0,t.jsx)(eG,{isExistsPromise:r,id:e})})};e.s(["default",0,()=>(0,t.jsx)(s.ClientOnly,{children:(0,t.jsx)(eJ,{})})],66942)}]);